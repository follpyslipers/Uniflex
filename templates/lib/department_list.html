
{% extends 'lib/main.html' %}
{% load static %}
{% block title %}
UniAbujaFlex | library departments
{% endblock title %}
{% block moreheader %}
<meta name="description" content="UniAbujaFlex is your go-to e-library platform offering academic resources, including book handouts and past questions, along with a vibrant student community for collaboration and learning. Join us today!">
<meta name="keywords" content="UniAbujaFlex, UniAbuja, University of Abuja, e-library, academic resources, book handouts, past questions, student community, collaboration, learning">
<meta name="robots" content="index, follow">
<meta property="og:title" content="UniAbujaFlex - Empowering Students with Academic Resources and Community">
<meta property="og:description" content="UniAbujaFlex is your go-to e-library platform offering academic resources, including book handouts and past questions, along with a vibrant student community for collaboration and learning. Join us today!">    
<meta property="og:image" content="/https://uniabujaflex.oss-us-west-1.aliyuncs.com/home/images/logo.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="UniAbujaFlex - Empowering Students with Academic Resources and Community">
<meta name="twitter:description" content="UniAbujaFlex is your go-to e-library platform offering academic resources, including book handouts and past questions, along with a vibrant student community for collaboration and learning. Join us today!">    
<meta name="twitter:image" content="/https://uniabujaflex.oss-us-west-1.aliyuncs.com/home/images/logo.png">
<style>
    .pagination-btn {
        background-color: #007bff;
        color: #fff;
        border: none;
        padding: 8px 16px;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease;
        margin: 0 10px;
    }
    
    .pagination-btn:hover {
        background-color: #0056b3;
    }
    
    @keyframes fadeInOut {
        0% { opacity: 0; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
    }
    
    #paginationControls {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 20px;
    }
    
    #pageIndicator {
        font-size: 16px;
        margin: 0 10px;
    }
</style>
{% endblock moreheader %}

{% block container %}
<div class="container">
    <!-- Sidebar -->
    <aside>
        <div class="toggle">
            <div class="logo">
                <img src="{% static 'home/images/logo.png' %}">
                <h2>UniAbuja<span class="danger">Flex</span></h2>
            </div>
            <div class="close" id="close-btn">
                <span class="material-icons-sharp">
                    close
                </span>
            </div>
        </div>

        <div class="sidebar" >
            <a href="https://portal.uniabuja.edu.ng/index.php">
                <span class="material-icons-sharp">
                    apps
                </span>
                <h3>School Portal</h3>
            </a>
            <a href="{% url 'library:faculty_list' %}" class="active" >
                <span class="material-icons-sharp">
                book
                </span>
                <h3>Book</h3>
            </a>
            <a href="{% url 'location:location_list' %}">      
                <span class="material-icons-sharp">
                    map
                </span>
                <h3>Map</h3>
            </a>
            
            {% if user.is_authenticated %}
                <a href="{% url 'user:sign-out' %}">
                    <span class="material-icons-sharp">
                        logout
                    </span>
                    <h3>Logout</h3>
                </a>
            <!-- Display login link if user is not authenticated -->
            {% else %}
                <a href="{% url 'user:sign-in' %}">
                    <span class="material-icons-sharp">
                        login
                    </span>
                    <h3>Login</h3>
                </a>
            {% endif %}
        </div>
    </aside>

    <!-- Main content -->
    <main>
       

        <h1>Faculty of {{faculty.name}} </h1>
        <div class="new-users">
            <h2>Departments List</h2>
            <div class="user-list">
                <div class="analyse">
                    {% for department in departments %}
                    <div class="sales" style="border: red solid 1px; background-image: url('{{ department.image.url }}');background-size: cover; background-position: center center;"   onclick="window.location.href='{% url 'library:course_list' department_id=department.id %}'">
                        <div class="status">
                            <div class="info">
                                <h3><a href="{% url 'library:course_list' department_id=department.id %}"><b style="color: black; height: 2px; width: auto; background-color: wheat; border: goldenrod solid 1px; border-radius: 50px; padding: 0px 3px; ">{{ department.name }}</b></a></h3>
                            </div>
                            <div class="progresss">
                                <svg>
                                    <circle cx="38" cy="38" r="36"></circle>
                                </svg>
                                <div class="percentage">
                                    <p style="color: red; background-color: wheat; border: black solid 1px; border-radius: 10px; padding: 2px;">{{ department.course_set.count }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                
                <!-- Pagination controls -->
                <div id="paginationControls">
                    {% if departments.has_previous %}
                        <button onclick="location.href='?page=1'" class="pagination-btn animated-btn">First</button>
                        <button onclick="location.href='?page={{ departments.previous_page_number }}'" class="pagination-btn animated-btn">Previous</button>
                    {% endif %}
                
                    <span id="pageIndicator">Page {{ departments.number }} of {{ departments.paginator.num_pages }}</span>
                
                    {% if departments.has_next %}
                        <button onclick="location.href='?page={{ departments.next_page_number }}'" class="pagination-btn animated-btn">Next</button>
                        <button onclick="location.href='?page={{ departments.paginator.num_pages }}'" class="pagination-btn animated-btn">Last</button>
                    {% endif %}
                </div
            </div>
        </div>
    </main>

    <!-- Right section -->

</div>
<a href=""></a>
<!-- JavaScript -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
{% endblock container %}




