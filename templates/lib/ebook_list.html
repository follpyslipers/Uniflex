{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp" rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" />
    <link rel="stylesheet" href="{% static 'home/style.css' %}">
    <meta name="google-adsense-account" content="ca-pub-7871394796063576">
    <title>Uniabuja Flex - E_library</title>
    <style>
        .new-users {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 50px;
        }
        
        .new-users h2 {
        font-size: 36px;
        font-weight: bold;
        color: #333;
        margin-bottom: 30px;
        }
        
        .user-list {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        margin-bottom: 30px;
        }
        
        .user {
        width: 300px;
        height: 400px;
        border-radius: 10px;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        margin: 0 10px 20px 10px;
        position: relative;
        transition: transform 0.3s ease-in-out;
        }
        
        .user:hover {
        transform: scale(1.05);
        cursor: pointer;
        }
        
        .user img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 10px 10px 0 0;
          }
        
        .user h2 {
        font-size: 24px;
        font-weight: bold;
        color: #333;
        margin: 10px 0;
        padding: 0 10px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        }
        
        .user p {
        font-size: 16px;
        color: #666;
        margin: 0 10px;
        }
    .pagination-btn {
        background-color: #007bff;
        color: #fff;
        border: none;
        padding: 8px 16px;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease;
        margin: 0 10px;
    }

    .pagination-btn:hover {
        background-color: #0056b3;
    }

    @keyframes fadeInOut {
        0% { opacity: 0; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
    }

    #paginationControls {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 20px;
    }

    #pageIndicator {
        font-size: 16px;
        margin: 0 10px;
    }
    </style>
</head>

<body>
    <div class="preloader"></div>

    <div class="container">
        <!-- Sidebar Section -->
        <aside>
            <div class="toggle">
                <div class="logo">
                    <img src="{% static 'home/images/logo.png' %}">
                    <h2>UniAbuja<span class="danger">Flex</span></h2>
                </div>
                <div class="close" id="close-btn">
                    <span class="material-icons-sharp">
                        close
                    </span>
                </div>
            </div>
    
            <div class="sidebar" >
                <a href="https://portal.uniabuja.edu.ng/index.php">
                    <span class="material-icons-sharp">
                        apps
                    </span>
                    <h3>School Portal</h3>
                </a>
                <a href="{% url 'library:faculty_list' %}" class="active" >
                    <span class="material-icons-sharp">
                    book
                    </span>
                    <h3>Book</h3>
                </a>
                <a href="{% url 'location:location_list' %}">      
                    <span class="material-icons-sharp">
                        map
                    </span>
                    <h3>Map</h3>
                </a>
                
                {% if user.is_authenticated %}
                    <a href="{% url 'user:sign-out' %}">
                        <span class="material-icons-sharp">
                            logout
                        </span>
                        <h3>Logout</h3>
                    </a>
                <!-- Display login link if user is not authenticated -->
                {% else %}
                    <a href="{% url 'user:sign-in' %}">
                        <span class="material-icons-sharp">
                            login
                        </span>
                        <h3>Login</h3>
                    </a>
                {% endif %}
            </div>
        </aside>
    
        <!-- End of Sidebar Section -->

        <!-- Main Content -->
        <main>

            {% if matric_number %}
                <p style="color: gold;">Hey {{ matric_number }}, welcome back!</p>
            {% endif %}
            <h1>E-library</h1>
            <!-- Analyses -->

            <div class="analyse">
                <div class="visits" style="border-color: gold; border: 1px dashed red;
                ">
                    <a href="{% url 'library:upload_ebook' course_id=course.id %}">
                        <div class="status">
                            <div class="info" style="padding-left: 23%;">
                                <img src="{% static 'images/uploadimage.png' %}" alt="" style="height: 8rem; width: 100%; align-content: center; position:relative;">
                                <b><p style="top: 50%; color: red;">click Here To Uplaod E-book</p></b>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="searches">
                    <div class="status">
                        
                        {% if ebooks %}
                            <div class="user-list" data-aos="fade-right" data-aos-delay="200" data-aos-duration="1000">
                            {% for ebook in ebooks %}
                                <div class="user" onclick="window.location.href='{% url 'library:download_ebook' ebook.id %}'"style="" >
                                    <img src="{{ ebook.cover_image.url }}" alt="Cover Image" style="width: 100%;">
                                    <h2 style="text-align: center; color:greenyellow;">{{ ebook.title }}</h2>
                                    <p><b>{{ ebook.description }}</b></p>
                                </div>
                                {% comment %} <button type="button" style="border-radius: 50px; height:30px; margin-left:40%; width:70px; ">
                                </button> {% endcomment %}
                            {% endfor %}
                            </div>
                        
                            <!-- Pagination -->
                            {% comment %} <div id="paginationControls">
                                {% if ebooks.has_previous %}
                                <a href="?page={{ ebooks.previous_page_number }}" class="pagination-btn">Previous</a>
                                {% endif %}
                            
                                <span id="pageIndicator">Page {{ ebooks.number }} of {{ ebooks.paginator.num_pages }}</span>
                            
                                {% if ebooks.has_next %}
                                <a href="?page={{ ebooks.next_page_number }}" class="pagination-btn">Next</a>
                                {% endif %}
                            </div> {% endcomment %}
                            <!-- End of Pagination -->
                        {% else %}
                            <p data-aos="fade-left" data-aos-delay="200" data-aos-duration="1000">No eBooks found.</p>
                        {% endif %}
                            
                    </div>
                </div>

                
    
            </div>


        </main>
        <!-- End of Main Content -->

        <!-- Right Section -->
        <div class="right-section">
            <div class="nav" data-aos="fade-right" data-aos-delay="200" data-aos-duration="1000">
                <button id="menu-btn">
                    <span class="material-icons-sharp">
                        menu
                    </span>
                </button>
                <div class="dark-mode">
                    <span class="material-icons-sharp active">
                        light_mode
                    </span>
                    <span class="material-icons-sharp">
                        dark_mode
                    </span>
                </div>


            </div>
        </div>


    </div>

<script src="{% static 'orders.js' %}"></script>
<script src="{% static 'index.js' %}"></script>
<script>
    const preloader = document.querySelector('.preloader');
    let colorIndex = 0;
    const colors = ['#007bff', '#28a745', '#dc3545', '#ffc107']; // Add more colors as needed

    setInterval(() => {
        preloader.style.borderTopColor = colors[colorIndex];
        colorIndex = (colorIndex + 1) % colors.length;
    }, 1000);

    window.addEventListener('load', () => {
        preloader.classList.add('hidden'); // Hide the preloader when the page loads
        document.querySelector('.container').classList.add('visible'); // Show the container
    });
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7871394796063576"
     crossorigin="anonymous"></script>
<script>
    AOS.init();
</script>
    
</body>

</html>+